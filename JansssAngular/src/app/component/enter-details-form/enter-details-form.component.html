
<div class="container">
<!-- Progress bar component loaded here-->
  <app-progress-bar></app-progress-bar>
</div>

<!-- Enter details form-->
<div class="enterDetails container container-sm container-md container-lg container-xl">

  <div class="card-deck">

    <div class="col col-auto heading_enter" data-aos="zoom-out-up">
      <p>Get<br>started<br>with <br>your<br></p>
      <p class="campaign">campaign</p>
    </div>
    <!-- Enter details form - responsive forms-->
    <form [formGroup]="detailsForm" (ngSubmit)="onSubmit()" class="col enter_form" id="enterDetails" data-aos="zoom-out-up">

      <div class="heading-2">Get started with your <p class="campaign">campaign</p></div>

      <div class="form-group">
        <!-- form item - target audience -->
        <label class="item item1" [ngClass]="detailsForm.controls['goal']">
          Campaign Goal
          <mat-radio-group color="primary" formControlName="goal" required>
            <mat-radio-button class="ml-5" value="Brand Awareness">Brand Awareness</mat-radio-button>
            <mat-radio-button class="ml-5" value="Conversions">Conversions</mat-radio-button>
          </mat-radio-group>
        </label>
      </div>

        <div class="form-group">
          <!-- form item - product name -->
          <mat-label class="item" [ngClass]="detailsForm.controls['name']">
            Product/Service Name<br></mat-label>
          <mat-form-field class="full-width">
              <input matInput placeholder="Ex. Platinum Business Academy" required formControlName="name" [errorStateMatcher]="matcher">
            <mat-error *ngIf="detailsForm.controls['name'].hasError('required')" class="errorMessage">
              Product/Service Name is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-group">
          <!-- form item - product type -->
          <label class="item" [ngClass]="detailsForm.controls['pstype']">
            Product/Service Type<br>
            <mat-form-field class="full-width">
              <input matInput placeholder="Ex. Tuition Class" required formControlName="pstype" [errorStateMatcher]="matcher">
              <mat-error *ngIf="detailsForm.controls['pstype'].hasError('required')" class="errorMessage">
                Product/Service Type is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </label>
        </div>


      <div class="form-group">
        <!-- form item - budget -->
        <mat-label class="item" [ngClass]="detailsForm.controls['budget']"></mat-label>
          Budget<br>
          <mat-form-field class="full-width">
            <input matInput placeholder="Ex. Rs. 10000/-" required formControlName="budget" [errorStateMatcher]="matcher">
            <mat-error *ngIf="detailsForm.controls['budget'].hasError('required')" class="errorMessage">
              Budget is <strong>required</strong>
            </mat-error>
          </mat-form-field>
      </div>

        <div class="form-group">
          <!-- form item - industry -->
          <label class="item" [ngClass]="detailsForm.controls['industry']">
            Target Industry<br>
            <mat-form-field class="full-width" >
              <input type="text" matInput formControlName="industry" placeholder="Ex. Education" required [errorStateMatcher]="matcher" [matAutocomplete]="industryGroup">
<!--              <p *ngIf="invalidIndustry()" id="industry_error" class="help-block">Invalid industry</p>-->
              <mat-autocomplete #industryGroup="matAutocomplete">
                <mat-optgroup *ngFor="let group of industryOptions | async" [label]="group.letter">
                  <mat-option *ngFor="let name of group.names" [value]="name">
                    {{name}}
                  </mat-option>
                </mat-optgroup>
              </mat-autocomplete>
              <mat-error *ngIf="detailsForm.controls['industry'].hasError('required')" class="errorMessage">
                Target Industry is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </label>
        </div>

        <div class="form-group">
          <!-- form item - target audience -->
          <mat-label class="item" [ngClass]="detailsForm.controls['audience']">
            Target Audience<br></mat-label>
          <mat-form-field class="full-width">
            <input type="text" matInput formControlName="audience" placeholder="Ex. Students" required [errorStateMatcher]="matcher" [matAutocomplete]="audienceGroup">
            <mat-autocomplete #audienceGroup="matAutocomplete" [displayWith]="displayAudience">
              <mat-option *ngFor="let audience of audienceOptions | async" [value]="audience">
                {{audience.names}}
              </mat-option>
            </mat-autocomplete>
            <mat-error *ngIf="detailsForm.controls['audience'].hasError('required')" class="errorMessage">
              Target Audience is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>

      <div class="form-group">
        <!-- form item - target location -->
        <mat-label class="item" [ngClass]="detailsForm.controls['location']">
          Target Location<br></mat-label>
          <mat-form-field class="full-width">
            <input type="text" matInput formControlName="location" required placeholder="Ex. Wellawatte, Colombo" [errorStateMatcher]="matcher" [matAutocomplete]="locationGroup">
            <mat-autocomplete #locationGroup="matAutocomplete">
              <mat-optgroup *ngFor="let group of locationOptions | async" [label]="group.letter">
                <mat-option *ngFor="let name of group.names" [value]="name">
                  {{name}}
                </mat-option>
              </mat-optgroup>
            </mat-autocomplete>
            <mat-error *ngIf="detailsForm.controls['location'].hasError('required')" class="errorMessage">
              Target Location is <strong>required</strong>
            </mat-error>
          </mat-form-field>
      </div>



        <div class="form-group">
          <!-- form item - price -->
          <mat-label class="item" [ngClass]="detailsForm.controls['price']">
            Price of Product/Service<br></mat-label>
            <mat-form-field class="full-width">
              <input matInput placeholder="Ex. Rs. 1,000 per lesson" required [errorStateMatcher]="matcher" formControlName="price">
              <mat-error *ngIf="detailsForm.controls['price'].hasError('required')" class="errorMessage">
                Price of Product/Service is <strong>required</strong>
              </mat-error>
            </mat-form-field>
        </div>

      <div class="form-group">
        <!-- form item - product name -->
        <mat-label class="item">Product Description<br></mat-label>
        <mat-form-field class="full-width">
            <textarea matInput  placeholder="Tell us a little bit about your Product/Service" formControlName="description"  [errorStateMatcher]="matcher" required></textarea>
          <mat-error *ngIf="detailsForm.controls['description'].hasError('required')" class="errorMessage">
            Description is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </div>

        <div class="button_outer form-group">
          <div class="row text-center" id="spinner">
            <div class="col">
              <mat-spinner></mat-spinner>
            </div>
          </div>
          <!-- on click, navigates to select campaign page -->
          <button mat-raised-button type="submit" class="button">Generate Campaign</button>
        </div>

      </form>
  </div>
</div>
